<!doctype html>
<html
  lang="pt-br"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title layout:title-pattern="$CONTENT_TITLE - $LAYOUT_TITLE">
      Aluguel de Imóveis
    </title>

    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#212529" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Aluguel" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="apple-touch-icon" href="/icons/icon-192x192.png" />

    <!-- Bootstrap CSS -->
    <link
      th:href="@{/webjars/bootstrap/css/bootstrap.min.css}"
      rel="stylesheet"
    />

    <!-- Bootstrap Icons -->
    <link
      th:href="@{/webjars/bootstrap-icons/font/bootstrap-icons.css}"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <link href="/css/style.css" rel="stylesheet" />
  </head>

  <body>
    <!-- Header -->
    <header th:replace="~{fragments/header :: cabecalho}"></header>

    <!-- Flash Messages -->
    <div
      class="container mt-3"
      th:if="${successMessage != null or errorMessage != null}"
    >
      <div
        class="alert alert-success alert-dismissible fade show"
        role="alert"
        th:if="${successMessage != null}"
      >
        <i class="bi bi-check-circle-fill me-2"></i>
        <span th:text="${successMessage}">Mensagem de sucesso</span>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
      </div>
      <div
        class="alert alert-danger alert-dismissible fade show"
        role="alert"
        th:if="${errorMessage != null}"
      >
        <i class="bi bi-exclamation-triangle-fill me-2"></i>
        <span th:text="${errorMessage}">Mensagem de erro</span>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
      </div>
    </div>

    <!-- Main Content -->
    <main role="main" class="container">
      <div layout:fragment="content">
        <p>Conteúdo padrão que será substituído.</p>
      </div>
    </main>

    <!-- Footer -->
    <footer th:replace="~{fragments/footer :: rodape}"></footer>

    <!-- jQuery -->
    <script th:src="@{/webjars/jquery/3.7.1/jquery.min.js}"></script>

    <!-- Bootstrap Bundle JS -->
    <script
      th:src="@{/webjars/bootstrap/5.3.3/js/bootstrap.bundle.min.js}"
    ></script>

    <!-- jQuery Mask Plugin -->
    <script
      th:src="@{/webjars/jquery-mask-plugin/1.14.16/dist/jquery.mask.min.js}"
    ></script>

    <!-- Custom JavaScript -->
    <script src="/js/script.js"></script>

    <!-- PWA Registration -->
    <script src="/js/pwa.js"></script>
  </body>
</html>
