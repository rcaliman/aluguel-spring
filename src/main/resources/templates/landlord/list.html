<!DOCTYPE html>
<html
  lang="pt-br"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout}"
>
  <head>
    <title>Locadores</title>
  </head>

  <body>
    <section layout:fragment="content">
      <div
        class="page-header d-flex justify-content-between align-items-center"
      >
        <div>
          <h1 class="h2 mb-0">
            <i class="bi bi-people-fill"></i> Lista de Locadores
          </h1>
          <p class="mb-0 text-white-50">
            Gerencie os proprietários dos imóveis.
          </p>
        </div>
        <a th:href="@{/landlords/new}" class="btn btn-primary shadow-sm">
          <i class="bi bi-plus-circle"></i> Novo Locador
        </a>
      </div>

      <div class="card-custom">
        <div class="card-custom-header">
          <i class="bi bi-card-list"></i> Todos os Locadores
        </div>
        <div class="table-responsive">
          <table class="table table-hover table-striped mb-0 table-sm">
            <thead>
              <tr>
                <th class="text-center th-col-main">Principal</th>
                <th>Nome</th>
                <th>CPF/CNPJ</th>
                <th>Endereço</th>
                <th class="text-center th-col-actions">Ações</th>
              </tr>
            </thead>
            <tbody>
              <tr th:each="landlord : ${landlords}">
                <td class="text-center">
                  <span th:if="${landlord.main}">
                    <i
                      class="bi bi-star-fill text-warning fs-5"
                      title="Locador Principal"
                    ></i>
                  </span>
                </td>
                <td th:text="${landlord.name}">Nome do Locador</td>
                <td th:text="${landlord.cpfCnpj}">00.000.000/0000-00</td>
                <td
                  th:text="${landlord.city != null ? landlord.city + ' - ' + landlord.state : ''}"
                ></td>
                <td class="text-center">
                  <div class="d-inline-flex gap-1">
                    <a
                      th:href="@{/landlords/edit/{id}(id=${landlord.id})}"
                      class="btn btn-sm btn-outline-primary"
                      title="Editar"
                    >
                      <i class="bi bi-pencil-square"></i>
                    </a>
                    <a
                      th:href="@{/landlords/delete/{id}(id=${landlord.id})}"
                      class="btn btn-sm btn-outline-danger"
                      title="Excluir"
                      onclick="return confirm('Tem certeza que deseja excluir este locador?');"
                    >
                      <i class="bi bi-trash3-fill"></i>
                    </a>
                  </div>
                </td>
              </tr>
              <tr th:if="${#lists.isEmpty(landlords)}">
                <td colspan="8" class="text-center py-4">
                  <i class="bi bi-inbox display-4 text-muted d-block mb-2"></i>
                  <span class="text-muted">Nenhum locador cadastrado</span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>
  </body>
</html>
