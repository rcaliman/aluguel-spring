<!doctype html>
<html
  lang="pt-br"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout}"
>
  <head>
    <title>Recibos Gerados</title>
    <link href="/css/receipt-list.css" rel="stylesheet" />
  </head>

  <body>
    <section layout:fragment="content">
      <div
        class="page-header no-print d-flex justify-content-between align-items-center"
      >
        <div>
          <h1 class="h3 mb-1">
            <i class="bi bi-file-earmark-text-fill me-2"></i> Recibos Gerados
          </h1>
          <p class="mb-0 opacity-75">Prontos para impressão</p>
        </div>
        <a href="javascript:history.back()" class="btn btn-secondary">
          <i class="bi bi-arrow-left"></i> Voltar
        </a>
      </div>

      <div class="toolbar no-print">
        <div class="ms-auto">
          <button onclick="window.print();" class="btn btn-primary">
            <i class="bi bi-printer"></i> Imprimir Recibos
          </button>
        </div>
      </div>

      <div id="print-area">
        <div th:if="${#lists.isEmpty(receipts)}" class="no-print">
          <p class="alert alert-warning">Nenhum recibo foi gerado.</p>
        </div>

        <div class="printable-page" th:each="receipt : ${receipts}">
          <!-- início da sessão de recibo de locação -->

          <div
            th:if="${receipt.propertyType != null and receipt.propertyType.name() != 'CONDOMINIO'}"
          >
            <!-- início do primeiro recibo de locação -->

            <div class="receipt-copy top-copy">
              <div>
                <div
                  class="receipt-header d-flex justify-content-between align-items-center mb-4"
                >
                  <h1 class="mb-1">RECIBO</h1>
                  <div class="copy-indicator">LOCAÇÃO</div>
                </div>
                <div class="receipt-body">
                  <p>
                    Recebi, de
                    <strong><th:block th:text="${receipt.tenant} + (${#strings.isEmpty(receipt.tenantDocument)} ? '' : ' (' + ${receipt.tenantDocument} + ')')" /></strong>, a
                    importância de
                    <strong th:text="${receipt.value}"></strong>
                    referente ao aluguel do(a)
                    <th:block
                      th:text="${#strings.toLowerCase(receipt.propertyType)}"
                    />
                    nº
                    <strong th:text="${receipt.propertyNumber}"></strong>.&nbsp;
                    <span th:text="${receipt.observation}"></span>. # . # . # .
                    # . # . # . # . # . # . # . # . # . # . # . #
                  </p>
                </div>
              </div>
              <div>
                <p
                  class="text-center mb-0"
                  th:text="${receipt.locale + ', ' + receipt.day + ' de ' + receipt.month + ' de ' + receipt.year + '.'}"
                ></p>
                <div class="signature-line">
                  _______________________________________________<br />
                  <strong th:text="${receipt.landlord} + (${#strings.isEmpty(receipt.landlordCpf)} ? '' : ' (' + ${receipt.landlordCpf} + ')')"></strong><br />
                  <span>(Locador/Procurador)</span>
                </div>
                <div
                  class="tenant-contact-info"
                  th:if="${receipt.tenantContact != null and not #strings.isEmpty(receipt.tenantContact)}"
                >
                  <span th:text="${receipt.tenantContact}"></span>
                </div>
              </div>
            </div>

            <!-- fim do primeiro recibo  de locação -->

            <!-- início do segundo recibo de locação -->

            <div class="receipt-copy">
              <div>
                <div
                  class="receipt-header d-flex justify-content-between align-items-center mb-4"
                >
                  <h1 class="mb-1">RECIBO</h1>
                  <div class="copy-indicator">LOCAÇÃO</div>
                </div>
                <div class="receipt-body">
                  <p>
                    Recebi, de
                    <strong><th:block th:text="${receipt.tenant} + (${#strings.isEmpty(receipt.tenantDocument)} ? '' : ' (' + ${receipt.tenantDocument} + ')')" /></strong>, a
                    importância de
                    <strong th:text="${receipt.value}"></strong>

                    referente ao aluguel do(a)
                    <th:block
                      th:text="${#strings.toLowerCase(receipt.propertyType)}"
                    />
                    nº
                    <strong th:text="${receipt.propertyNumber}"></strong>.&nbsp;
                    <span th:text="${receipt.observation}"></span>. # . # . # .
                    # . # . # . # . # . # . # . # . # . # . # . #
                  </p>
                </div>
              </div>
              <div>
                <p
                  class="text-center mb-0"
                  th:text="${receipt.locale + ', ' + receipt.day + ' de ' + receipt.month + ' de ' + receipt.year + '.'}"
                ></p>

                <div class="signature-line">
                  _______________________________________________<br />
                  <strong th:text="${receipt.landlord} + (${#strings.isEmpty(receipt.landlordCpf)} ? '' : ' (' + ${receipt.landlordCpf} + ')')"></strong><br />
                  <span>(Locador/Procurador)</span>
                </div>

                <div
                  class="tenant-contact-info"
                  th:if="${receipt.tenantContact != null and not #strings.isEmpty(receipt.tenantContact)}"
                >
                  <span th:text="${receipt.tenantContact}"></span>
                </div>
              </div>
            </div>

            <!-- fim do segundo recibo de locação-->
          </div>

          <!-- fim da sessão de recibo de locação -->

          <!-- início da sessão de recibo de condomínio -->

          <div
            th:if="${receipt.propertyType != null and receipt.propertyType.name() == 'CONDOMINIO'}"
          >
            <!-- início do primeiro recibo de condomínio -->

            <div class="receipt-copy top-copy">
              <div>
                <div
                  class="receipt-header d-flex justify-content-between align-items-center mb-4"
                >
                  <h1 class="mb-1">RECIBO</h1>
                  <div class="copy-indicator">CONDOMÍNIO</div>
                </div>
                <div class="receipt-body">
                  <p>
                    Recebi, de
                    <strong><th:block th:text="${receipt.tenant} + (${#strings.isEmpty(receipt.tenantDocument)} ? '' : ' (' + ${receipt.tenantDocument} + ')')" /></strong>, a
                    importância de
                    <strong th:text="${receipt.value}"></strong>

                    referente ao pagamento do
                    <th:block
                      th:text="${#strings.toLowerCase(receipt.propertyType)}"
                    />
                    do mês de
                    <strong
                      th:text="${#strings.toLowerCase(receipt.month)}"
                    ></strong>
                    de
                    <strong th:text="${receipt.year}"></strong>, correspondente
                    a <strong th:text="${receipt.observation}"></strong>, no
                    Edifício Caliman. # . # . # . # . # . # . # . # . # . # . #
                    . # . # . #
                  </p>
                </div>
              </div>
              <div>
                <p
                  class="text-center mb-0"
                  th:text="${receipt.locale + ', ' + receipt.day + ' de ' + receipt.nextMonth + ' de ' + (receipt.month == 'Dezembro' ? receipt.nextYear : receipt.year) + '.'}"
                ></p>
                <div class="signature-line">
                  _______________________________________________<br />
                  <strong th:text="${receipt.landlord} + (${#strings.isEmpty(receipt.landlordCpf)} ? '' : ' (' + ${receipt.landlordCpf} + ')')"></strong><br />
                  <span>(ou procurador)</span>
                </div>
                <div
                  class="tenant-contact-info"
                  th:if="${receipt.tenantContact != null and not #strings.isEmpty(receipt.tenantContact)}"
                >
                  <span th:text="${receipt.tenantContact}"></span>
                </div>
              </div>
            </div>

            <!-- fim do primeiro recibo  de condomínio -->

            <!-- início do segundo recibo de condomínio -->

            <div class="receipt-copy">
              <div>
                <div
                  class="receipt-header d-flex justify-content-between align-items-center mb-4"
                >
                  <h1 class="mb-1">RECIBO</h1>
                  <div class="copy-indicator">CONDOMÍNIO</div>
                </div>
                <div class="receipt-body">
                  <p>
                    Recebi, de
                    <strong><th:block th:text="${receipt.tenant} + (${#strings.isEmpty(receipt.tenantDocument)} ? '' : ' (' + ${receipt.tenantDocument} + ')')" /></strong>, a
                    importância de
                    <strong th:text="${receipt.value}"></strong>

                    referente ao pagamento do
                    <th:block
                      th:text="${#strings.toLowerCase(receipt.propertyType)}"
                    />
                    do mês de
                    <strong
                      th:text="${#strings.toLowerCase(receipt.month)}"
                    ></strong>
                    de
                    <strong th:text="${receipt.year}"></strong>, correspondente
                    a <strong th:text="${receipt.observation}"></strong>, no
                    Edifício Caliman. # . # . # . # . # . # . # . # . # . # . #
                    . # . # . #
                  </p>
                </div>
              </div>
              <div>
                <p
                  class="text-center mb-0"
                  th:text="${receipt.locale + ', ' + receipt.day + ' de ' + receipt.nextMonth + ' de ' + (receipt.month == 'Dezembro' ? receipt.nextYear : receipt.year) + '.'}"
                ></p>
                <div class="signature-line">
                  _______________________________________________<br />
                  <strong th:text="${receipt.landlord} + (${#strings.isEmpty(receipt.landlordCpf)} ? '' : ' (' + ${receipt.landlordCpf} + ')')"></strong><br />
                  <span>(ou procurador)</span>
                </div>
                <div
                  class="tenant-contact-info"
                  th:if="${receipt.tenantContact != null and not #strings.isEmpty(receipt.tenantContact)}"
                >
                  <span th:text="${receipt.tenantContact}"></span>
                </div>
              </div>
            </div>
            <!-- fim do segundo recibo de condomínio -->
          </div>

          <!-- fim da sessão de recibo de condomínio -->
        </div>
      </div>
    </section>
  </body>
</html>
